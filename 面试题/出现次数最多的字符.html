<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script>
        //判断一个字符串中出现次数最多的字符，统计这个次数
        //将字符串的字符保存在一个hash table中，key是字符，value是这个字符出现的次数

//        function max_key(str) {
//
//            var obj = {};
//
//            for (var i = 0, l = str.length; i < l; i++) {
//                var key = str[i];
//                if (!obj[key]) {
//                    obj[key] = 1;
//                } else {
//                    obj[key]++;
//                }
//            }
////            遍历这个hash table，获取value最大的key和value
//            var max = -1;
//            var max_value = "";
//            var key;
//
//            for (key in obj) {
//                if (max < obj[key]) {
//                    max = obj[key];
//                    max_value = key;
//                }
//            }
//
//            return "max: "+max+" max_key: "+max_key;
//        }


        function max_key(str) {

            var arr = str.split("");
            arr.sort();
            str = arr.join("");

            var re = /(\w)\1+/g; // \1 对 $1的引用，\1+多个
            var max = 0;
            var max_value = "";

            str.replace(re,function($0,$1) {
                if (max < $0.length) {
                    max = $0.length;
                    max_value = $1;
                }
            })

            return "max: " + max + " max_value: " + max_value;
        }
        console.log(max_key("abcdefgaddda"));	// max: 4 max_value: d
        console.log(max_key("abcd"));	// max: 0 max_value: ''
    </script>
</head>
<body>

</body>
</html>